package com.csc.tests;

import org.testng.Assert;
import org.testng.annotations.AfterClass;
import org.testng.annotations.BeforeClass;

import com.testing.utils.Driver_Creation;

import io.appium.java_client.MobileElement;
import io.appium.java_client.android.AndroidDriver;
import io.appium.java_client.ios.IOSDriver;

/**
 * Base class for all the tests.
 * 
 * Creates connection with the run configurations in order to provide
 * capabilities to Appium server
 * 
 * @author md.ashrafiftekhar
 *
 */
public class BaseTest {

	// set platform
	String Platform = "Android";

	// Android capabilities
	String apkPath = "";
	String PackageName = "";
	String LaunchActivity = "";
	String AndroidVersion = "";

	// iOS Capabilities
	String appPath = "";
	String DeviceName = "";
	String UDID = "";
	String iOSVersion = "";

	@BeforeClass
	public void beforeClass() {
		if (Platform == "Android") {
			AndroidDriver<MobileElement> driver = Driver_Creation.getAndroidDriver(apkPath, PackageName, LaunchActivity,
					AndroidVersion);
			if (driver == null) {
				Assert.fail("Unable to create driver");
			}
		} else {
			IOSDriver<MobileElement> driver = Driver_Creation.getiOSDriver(appPath, DeviceName, UDID, iOSVersion);
			if (driver == null) {
				Assert.fail("Unable to create driver");
			}
		}

	}

	@AfterClass
	public void afterClass() {
		driver.quit();
	}
}
