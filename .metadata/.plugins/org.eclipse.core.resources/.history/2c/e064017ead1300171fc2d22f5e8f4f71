/**
 * 
 */
package com.test.utils;

import java.io.File;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

import javax.xml.parsers.ParserConfigurationException;

import org.apache.commons.io.FileUtils;
import org.xml.sax.SAXException;

/**
 * Contains methods to generate detailed report for Appium tests with Testng
 * 
 * @author Ashraf Iftekhar, Mar 27, 2017
 *
 */
public class Reporting {

	static List<List<String>> listOfLists = new ArrayList<List<String>>();
	static String[] counts = { "1", "2", "3", "4" };
	static String pass;
	static String fail;
	static String skip;
	static String ignore;
	static String path = System.getProperty("user.dir") + "/test-output/testng-results.xml";

	static File xml = new File(path);

	public static void main(String[] args) throws ParserConfigurationException, SAXException, IOException {
		// MySaxParser saxParser = new MySaxParser(xml);
		// saxParser.parseXml();
		// Attributes Att = null;
		// saxParser.startElement("", "", "", Att);
		// listOfLists = saxParser.values();
		// counts = saxParser.Counts();

		pass = counts[0];
		fail = counts[1];
		skip = counts[2];
		ignore = counts[4];
		writeToHTML();
	}

	public static void writeToHTML() throws IOException {
		File htmlTemplateFile = new File("/Test.html");
		String htmlString = FileUtils.readFileToString(htmlTemplateFile);
		htmlString = htmlString.replace("$P", pass);
		htmlString = htmlString.replace("$F", fail);
		htmlString = htmlString.replace("$F", skip);
		htmlString = htmlString.replace("$F", ignore);
		File newHtmlFile = new File("/TestReport.html");
		FileUtils.writeStringToFile(newHtmlFile, htmlString);
	}

}
